version: "3.1"

intents:
  - greet
  - goodbye
  - chitchat
  - search_properties
  - explain
  - ask_price_prediction
  - provide_location
  - provide_property_type
  - provide_transaction_type
  - provide_price
  - deny
  - affirm
  - view_post_details

entities:
  - property_type
  - transaction_type
  - location
  - price:
      roles:
        - bottom
        - top
        - average

slots:
  property_type:
    type: text
    mappings:
      - type: from_entity
        entity: property_type
  transaction_type:
    type: text
    mappings:
      - type: from_entity
        entity: transaction_type
  price:
    type: list
    mappings:
      - type: custom

  location:
    type: list
    mappings:
      - type: custom

  requested_slot:
    type: categorical
    values:
      - property_type
      - transaction_type
      - location
      - price
    influence_conversation: true
    mappings:
      - type: custom

responses:
  utter_ask_property_type:
    - text: "Bạn đang tìm kiếm loại bất động sản nào (phòng, nhà, căn hộ, văn phòng, ...)?"

  utter_ask_transaction_type:
    - text: "Bạn muốn mua hay thuê bất động sản?"

  utter_ask_price:
    - text: "Bạn muốn tìm {property_type} trong khoảng giá bao nhiêu"

  utter_ask_location:
    - text: Bạn muốn tìm bất động sản ở khu vực nào?

  utter_submit:
    - text: "All done!"

  utter_slots_values:
    - text: "Bạn muốn {transaction_type} {property_type} ở {district}. Tôi sẽ tìm kiếm các bài post phù hợp cho bạn"

  utter_greet:
    - text: "Xin chào, tôi là chatbot hỗ trọ tìm kiếm bất động sản và dự đoán giá. Bạn cần giúp gì không?"

  utter_out_of_scope:
    - text: Xin lỗi, tôi là chatbot để tìm kiếm bất động sản. Tôi không thể trả lời câu hỏi này

  utter_please_rephrase:
    - text: "Xin lỗi, tôi không hiểu ý bạn. Bạn có thể nói lại không?"

  utter_default: # Triggered when the next action is not determined by the RulePolicy
    - text: "Xin lỗi, tôi không thể thực hiện yêu cầu này của bạn. Bạn có thể nói lại không?"

  utter_chitchat/ask_name:
    - image: "https://i.imgur.com/zTvA58i.jpeg"
      text: Hello, my name is Retrieval Bot.
    - text: I am called Retrieval Bot!

  utter_chitchat/ask_weather:
    - text: Oh, it does look sunny right now in Berlin.
      image: "https://i.imgur.com/vwv7aHN.png"
    - text: I am not sure of the whole week but I can see the sun is out today.

  utter_explain_property_type:
    - text: "Loại bất động sản có thể là phòng, nhà, căn hộ, văn phòng, ... Bạn muốn tìm loại nào?"

  utter_explain_transaction_type:
    - text: "Hiện tại tôi hỗ trợ tìm bất động sản để mua và thuê. Bạn muốn chọn hình thức nào?"

forms:
  search_properties_form:
    required_slots:
      - property_type
      - transaction_type
      - price
      - location

actions:
  - action_bye
  - action_check_for_price_update
  - action_check_for_location_update
  - validate_search_properties_form
  - action_submit_search_properties_form
  - action_view_post_details

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
